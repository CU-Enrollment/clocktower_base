@use 'base/colors';
@use 'base/rounded';
@use 'utilities/modifiers';
@use 'layout' as l;
@use 'molecules/attribution';
@use '../base/breakpoints' as b;

.cards {


    &.row-view {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        gap: 2%;
        padding: 5% 0;
        // .card {
        //     flex-direction: column;
        // }
    }
    
    &.list-view {
        flex-direction: column;
        display: flex;

        .card {
            flex-direction: row;

            @include b.for-desktop-up {
                --cardMargin: 1.5em 1em 1.5em 1em;
            }  
            
            // @include for-tablet-portrait-up {
            //     --cardMargin: 1em;
    
            // }
            
            margin: var(--cardMargin);

            .cover-image {
                flex: 1;
            }

            .card-text {
                flex: 3;
                margin-left: 50px;
                position: relative;
                        text-decoration: none;

            }

        }
    }

    &.grid-view {

        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        flex-direction: row;

        .card {
            flex-direction: column;
            
            

            @include b.for-desktop-up {
                --cardMargin: 1em 1.5em 1em 1.5em;
            }  
            
            @include b.for-tablet-portrait-up {
                --cardMargin: .5em;
    
            }

           
            
            margin: var(--cardMargin);

            .card-text {
                padding: 1em 1.5em;
                color: var(--cardText, rgba(0,0,0,1));
                min-height: 200px;
                position: relative;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                h2 {
                    color: var(--cardText, rgba(0,0,0,1));
                }
                
            }
    
            &:first-of-type {
                --topLeftRadius: 0;
                --toprightRadius: .5em;
                --bottomRightRadius: 0;
                --bottomLeftRadius: .5em;
                @extend .rounded;
            }
        }

        a.card {
            transform: translateY(0px);
            transition: transform .5s ease-in-out;
            &:hover {
                transform: translateY(-10px);
                transition: transform .5s ease-in-out;
            }
        }
    }

    .card {
        
        // display: flex;
        // background-color: var(--cardBackground, #FFF);
        // overflow: hidden;
        text-decoration: none;
        // margin: 0 .75em;


        .card-text {
            text-decoration: none;
            margin: 2em 3em;

            h3 {
                font-size: var(--step-3);
                font-family: var(--clocktower-serif);
            }

            p {
                font-size: var(--step-1);
                font-family: var(--clocktower-sans-serif);
            }

            a.card-btn {
                margin: 0 auto;
                background: var(--cardBtnBG, #B31b1b);
                color: var(--cardTxt, #FFF);
            }
        }

        &.four-three {
            .card-content {

                .cover-image.full {
                    
                    @include b.for-desktop-up {
                      width: 100%;
                      height: 100%;
                    }
                   
                    overflow: hidden;
                    position: relative;
                    
    
                    img {
                        // height: 100%;
                        // width: 100%;
                        object-fit: cover;
                        object-position: center;
                    }
                    
                }
                .card__face--front {
    
                    position: relative;
                    // height: 100%;
                    
                    h3 {
    
                        justify-self: center;
                        text-align: center;
                        position: absolute;
                        grid-row: 3;
                        font-family: var(--clocktower-sans-serif);
                        flex-direction: column;
    
                        &:after {
                            height: 3px;
                            content: '';
                            display: block;
                            width: 4em;
                            background-color: white;
                            margin: 1em auto 0;
                        }
                        span {
                            color: white;
                            display: inline-block;
    
                        }
    
                        &.block {
                            margin-top: 0;
                            width: 85%;
    
                            &:after {
                                display: none;
                            }
    
                            span {
                                background: #333;
                                // padding: 1em 2em;
                                margin: 0 auto;
                                padding: 1em;
                                width: 75%;
    
                                box-shadow: 16px 12px 0px -5px rgba(255,255,255,0.95);
                                -webkit-box-shadow: 16px 12px 0px -5px rgba(255,255,255,0.95);
                                -moz-box-shadow: 16px 12px 0px -5px rgba(255,255,255,0.95);
    
                                &:after {
                                    height: 3px;
                                    content: '';
                                    display: block;
                                    width: 4em;
                                    background-color: white;
                                    margin: 1em auto 0;
                                }
                                
                            }
                        }
    
                        &.arched {
    
                            width: 100%;
                            height: 100%;
                            background: #333;
                            clip-path: ellipse(165% 100% at 113.25% 100%);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            margin: 0;
    
                            span {
                                &:after {
                                    display: inline-block;
                                    content: '\f054';
                                    color: white;
                                    margin-left: .5em;
                                    font-family: 'FontAwesome';
                                    font-size: var(--step--1);
                                }
                            }
                        }  
    
                        
                    }
    
                    .cover-image.full {
    
                        grid-row: 1/4;
    
                    }
    
                    &.gradient {
    
                        &:after {
                            display: block;
                            position: absolute;
                            top: 0;
                            left: 0;
                            bottom: 0;
                            right: 0;
                            background: rgb(0,0,0);
                            background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%);
                            content: '';
    
    
                        }
                    
                        h3 {
                            z-index: 1;
                            display: flex;
                            grid-row: 3;
                            margin: 0;
                            align-self: center;
                            span {
    
                            }
                        }
                        
    
                    }
    
                }
            }
            
        }

        &.flip-card {
            
            display: flex;
            justify-content: center;
            width: 100%;
            height: 100%;
            
            .card-content {
                position: relative;
                transition: 1s ease-in-out;
                transform-style: preserve-3d;
                aspect-ratio: 3/4;
                perspective: 5em;
                min-height: 100%;
                width: 100%;
                max-width: 375px;

                .card__face {

                    position: absolute; 
                    transition: 1s ease-in-out;
                    backface-visibility: hidden;
                    width: 100%;
                    height: 100%;
                    display: grid;

                    &--front {
                        transform: rotateY(0deg);

                        .cover-image.full {
                            &:before {
                                font-family: 'FontAwesome';
                                color: white;
                                content: '\f0e2';
                                display: block;
                                bottom: 0;
                                right: 0;
                                position: absolute;
                                z-index: 5;
                                padding: 1em;
                            }
                            &:after {
                                content: '';
                                display: block;
                                background: rgba(0,65,97, .85);
                                position: absolute;
                                right: 0;
                                bottom: 0;
                                padding: 2em;
                                border-radius: 100px 0 0 0;
                                z-index: 1;

                            }
                        }
                    }

                    &--back {
                        background: var(--cardBG, #FFF);
                        transform:rotateY(180deg);

                    }

                }

                &.active, &:hover {
                    transform: rotateY(0.5turn);
                }
            }
        }

    }

}


